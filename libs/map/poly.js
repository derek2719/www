(function(){var g=Openlayers.Polyline;var k=Openlayers.Pixel;var e=Openlayers.At;var c=e.AK;var f=e.CJ;var d=e.LY;var j=e.LW;function i(r,q,p){var x=false,z=false,u=false,r=new k(r.x,r.y),q=new k(q.x,q.y),o=h(r,p),m=h(q,p),y,w,v;var t=p.minX,s=p.minY,n=p.maxX,l=p.maxY;do{if(o.Ag==0&&m.Ag==0){x=true;u=true}else{if((o.Ag&m.Ag)!=0){u=true}else{if(o.Ag!=0){y=o}else{y=m}if(y.Dq){w=r.x+(q.x-r.x)*(s-r.y)/(q.y-r.y);v=s}else{if(y.Cb){w=r.x+(q.x-r.x)*(l-r.y)/(q.y-r.y);v=l}else{if(y.FU){v=r.y+(q.y-r.y)*(n-r.x)/(q.x-r.x);w=n}else{if(y.GL){v=r.y+(q.y-r.y)*(t-r.x)/(q.x-r.x);w=t}}}}z=true;if(y.Ag==o.Ag){r.x=Math.round(w);r.y=Math.round(v);o=h(r,p)}else{q.x=Math.round(w);q.y=Math.round(v);m=h(q,p)}}}}while(!u);if(x){return{pixel0:new k(r.x,r.y),pixel1:new k(q.x,q.y),clip:z?true:false}}}function h(n,m){var p={Dq:0,Cb:0,FU:0,GL:0,Ag:0};var l=n.x,o=n.y;if(o<m.minY){p.Dq=8;p.Ag+=p.Dq}else{if(o>m.maxY){p.Cb=4;p.Ag+=p.Cb}}if(l>m.maxX){p.FU=2;p.Ag+=p.FU}else{if(l<m.minX){p.GL=1;p.Ag+=p.GL}}return p}function b(l,A){var q=[];var v=[[]];if(j.Ew(A)&&A.length>0&&l){q.push(l.Kt(A[0]));for(var t=1,s=1,w=A.length;t<w;t++){var n=l.Kt(A[t]);if(!n.equals(q[s-1])){q.push(n);s++}}var z=[],y=l.GU,x=l.Fj,r=l.FW.BC,u=l.Ks;paletteBounds={minX:-y-r,minY:-x-r,maxX:-y+r+u.width,maxY:-x+r+u.height};for(var t=0,s=q.length-1;t<s;t++){var p=q[t],m=q[t+1];var o=i(p,m,paletteBounds);if(o){z.push(o)}}for(var t=0,w=z.length;t<w;t++){if(z[t].clip){v[v.length-1].push(z[t].pixel0);v[v.length-1].push(z[t].pixel1);if(z[t+1]&&z[t+1].clip){v.push([])}}else{v[v.length-1].push(z[t].pixel0);if(t==z.length-1){v[v.length-1].push(z[t].pixel1)}}}}l=null;q=null;return v}var a={ER:function(l){this.Fe=l;this.DM(l);this.Ai(true)},DM:function(m){if(f){f.ER(m);this.GI=f.Bx();var l=this.FW;if(l.Ei){this.setFillColor(l.Ei);this.setFillOpacity(l.El)}this.setStrokeColor(l.AM);this.setStrokeWeight(l.Av);this.setStrokeStyle(l.GJ);this.setStrokeOpacity(l.CQ);this.setPath(this.FI);d.CX(this.GI);f.Da(this.GI)}else{throw"\u5730\u56fe\u753b\u677f\u5bf9\u8c61\u521b\u5efa\u5931\u8d25\uff01"}},setPath:function(l){if(j.Ew(l)){this.FI=l;if(this.GI){var m=b(this.Fe,l);f.BA(this.GI,m)}}},Ku:function(){if(f&&this.GI){this.setPath(this.FI);f.Ku()}},GC:function(){this.Fe=null;if(this.GI){this.GI.parentNode&&this.GI.parentNode.removeChild(this.GI);this.GI=null}}};c.GZ(g,a)}());